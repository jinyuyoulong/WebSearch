
<script>
    var studentCount = 0;
    // 构建者模式
    // 用一个对象构建另一个对象的实例，目的是为了方便在构建时做逻辑判断，控制着数据的合法性
    function Student() {
    }
    function StudentBuilder() {
        this.student = new Student()
        this.setName = function (name) {
            this.student.name = name;
        }
        this.setGender = function (gender) {
            if (gender != "男" && gender !="女") {
            throw "好玩吗！"
            }
            this.student.gender = gender;
        }
        this.setHairLength = function (hairLength) {
            if (
            (this.student.gender == "男" && hairLength >= 2) ||
            (this.student.gender == "女" &&  hairLength > 20)
            ) {
            throw "回家剪头去"
            }
            this.student.hairLength = hairLength;
        }
         this.build = function (){
             studentCount++
             console.log(studentCount);
             
            return this.student
        }
    }
    var builder = new StudentBuilder()
    builder.setName('王花花')
    builder.setGender('男')
    builder.setHairLength(1)
    var whh = builder.build()
    console.log(whh);
    
</script>
